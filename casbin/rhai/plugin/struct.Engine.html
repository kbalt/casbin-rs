<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Rhai main scripting engine."><meta name="keywords" content="rust, rustlang, rust-lang, Engine"><title>Engine in casbin::rhai::plugin - Rust</title><link rel="stylesheet" type="text/css" href="../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../../storage.js"></script><script src="../../../crates.js"></script><noscript><link rel="stylesheet" href="../../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../../favicon.svg"><link rel="alternate icon" type="image/png" href="../../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../../casbin/index.html'><div class='logo-container rust-logo'><img src='../../../rust-logo.png' alt='logo'></div></a><h2 class="location">Struct Engine</h2><div class="sidebar-elems"><div class="block items"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><div class="sidebar-links"><a href="#method.compile">compile</a><a href="#method.compile_expression">compile_expression</a><a href="#method.compile_expression_with_scope">compile_expression_with_scope</a><a href="#method.compile_file">compile_file</a><a href="#method.compile_file_with_scope">compile_file_with_scope</a><a href="#method.compile_scripts_with_scope">compile_scripts_with_scope</a><a href="#method.compile_with_scope">compile_with_scope</a><a href="#method.consume">consume</a><a href="#method.consume_ast">consume_ast</a><a href="#method.consume_ast_with_scope">consume_ast_with_scope</a><a href="#method.consume_file">consume_file</a><a href="#method.consume_file_with_scope">consume_file_with_scope</a><a href="#method.consume_with_scope">consume_with_scope</a><a href="#method.disable_symbol">disable_symbol</a><a href="#method.eval">eval</a><a href="#method.eval_ast">eval_ast</a><a href="#method.eval_ast_with_scope">eval_ast_with_scope</a><a href="#method.eval_expression">eval_expression</a><a href="#method.eval_expression_with_scope">eval_expression_with_scope</a><a href="#method.eval_file">eval_file</a><a href="#method.eval_file_with_scope">eval_file_with_scope</a><a href="#method.eval_with_scope">eval_with_scope</a><a href="#method.map_type_name">map_type_name</a><a href="#method.new">new</a><a href="#method.new_raw">new_raw</a><a href="#method.on_debug">on_debug</a><a href="#method.on_print">on_print</a><a href="#method.on_var">on_var</a><a href="#method.parse_json">parse_json</a><a href="#method.register_custom_operator">register_custom_operator</a><a href="#method.register_custom_syntax">register_custom_syntax</a><a href="#method.register_custom_syntax_raw">register_custom_syntax_raw</a><a href="#method.register_fn">register_fn</a><a href="#method.register_get">register_get</a><a href="#method.register_get_result">register_get_result</a><a href="#method.register_get_set">register_get_set</a><a href="#method.register_global_module">register_global_module</a><a href="#method.register_indexer_get">register_indexer_get</a><a href="#method.register_indexer_get_result">register_indexer_get_result</a><a href="#method.register_indexer_get_set">register_indexer_get_set</a><a href="#method.register_indexer_set">register_indexer_set</a><a href="#method.register_indexer_set_result">register_indexer_set_result</a><a href="#method.register_iterator">register_iterator</a><a href="#method.register_raw_fn">register_raw_fn</a><a href="#method.register_result_fn">register_result_fn</a><a href="#method.register_set">register_set</a><a href="#method.register_set_result">register_set_result</a><a href="#method.register_type">register_type</a><a href="#method.register_type_with_name">register_type_with_name</a></div><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-Debug">Debug</a><a href="#impl-Default">Default</a></div><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><div class="sidebar-links"><a href="#impl-RefUnwindSafe">!RefUnwindSafe</a><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a><a href="#impl-Unpin">Unpin</a><a href="#impl-UnwindSafe">!UnwindSafe</a></div><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><div class="sidebar-links"><a href="#impl-Any">Any</a><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a><a href="#impl-From%3CT%3E">From&lt;T&gt;</a><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></div></div><h2 class="location">Other items in<br><a href="../../index.html">casbin</a>::<wbr><a href="../index.html">rhai</a>::<wbr><a href="index.html">plugin</a></h2><div id="sidebar-vars" data-name="Engine" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input"name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Struct <a href="../../index.html">casbin</a>::<wbr><a href="../index.html">rhai</a>::<wbr><a href="index.html">plugin</a>::<wbr><a class="struct" href="#">Engine</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../../../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></span></h1><div class="docblock type-decl"><pre class="rust struct">pub struct Engine { /* fields omitted */ }</pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Rhai main scripting engine.</p>
<h1 id="thread-safety" class="section-header"><a href="#thread-safety">Thread Safety</a></h1>
<p><a href="../struct.Engine.html" title="Engine"><code>Engine</code></a> is re-entrant.</p>
<p>Currently, <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a> is neither <a href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Send.html" title="Send"><code>Send</code></a> nor <a href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Sync.html" title="Sync"><code>Sync</code></a>.
Use the <code>sync</code> feature to make it <a href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Send.html" title="Send"><code>Send</code></a> <code>+</code> <a href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Sync.html" title="Sync"><code>Sync</code></a>.</p>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;40 + 2&quot;</span>)<span class="question-mark">?</span>;

<span class="macro">println!</span>(<span class="string">&quot;Answer: {}&quot;</span>, <span class="ident">result</span>);  <span class="comment">// prints 42</span></pre></div>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl" class="impl has-srclink"><div class="rightside"></div><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_custom_syntax" class="method has-srclink"><div class="rightside"></div><a href="#method.register_custom_syntax" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_custom_syntax" class="fnname">register_custom_syntax</a>&lt;S&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;keywords: <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">&amp;[S]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope_may_be_changed: <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.bool.html">bool</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;func: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut <a class="struct" href="../struct.EvalContext.html" title="struct casbin::rhai::EvalContext">EvalContext</a>&lt;'_, '_, '_, '_, '_, '_, '_, '_&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="../struct.Expression.html" title="struct casbin::rhai::Expression">Expression</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.Dynamic.html" title="struct casbin::rhai::Dynamic">Dynamic</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a>, <a class="struct" href="../struct.ParseError.html" title="struct casbin::rhai::ParseError">ParseError</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;SmartString&lt;Compact&gt;&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a custom syntax with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<ul>
<li><code>keywords</code> holds a slice of strings that define the custom syntax.</li>
<li><code>scope_may_be_changed</code> specifies variables <em>may</em> be added/removed by this custom syntax.</li>
<li><code>func</code> is the implementation function.</li>
</ul>
<h2 id="note-on-scope_may_be_changed" class="section-header"><a href="#note-on-scope_may_be_changed">Note on <code>scope_may_be_changed</code></a></h2>
<p>If <code>scope_may_be_changed</code> is <code>true</code>, then <em>size</em> of the current <a href="../struct.Scope.html" title="crate::Scope"><code>Scope</code></a>
<em>may</em> be modified by this custom syntax.</p>
<p>Adding new variables and/or removing variables count.</p>
<p>Simply modifying the values of existing variables does NOT count, as the <em>size</em> of the
current <a href="../struct.Scope.html" title="crate::Scope"><code>Scope</code></a> is unchanged, so <code>false</code> should be passed.</p>
<p>Replacing one variable with another (i.e. adding a new variable and removing one variable at
the same time so that the total <em>size</em> of the <a href="../struct.Scope.html" title="crate::Scope"><code>Scope</code></a> is unchanged) also
does NOT count, so <code>false</code> should be passed.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_custom_syntax_raw" class="method has-srclink"><div class="rightside"></div><a href="#method.register_custom_syntax_raw" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_custom_syntax_raw" class="fnname">register_custom_syntax_raw</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;SmartString&lt;Compact&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;parse: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="../struct.ImmutableString.html" title="struct casbin::rhai::ImmutableString">ImmutableString</a><a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">]</a>, &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.55.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.ImmutableString.html" title="struct casbin::rhai::ImmutableString">ImmutableString</a>&gt;, <a class="struct" href="../struct.ParseError.html" title="struct casbin::rhai::ParseError">ParseError</a>&gt; + SendSync + 'static, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope_may_be_changed: <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.bool.html">bool</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;func: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;mut <a class="struct" href="../struct.EvalContext.html" title="struct casbin::rhai::EvalContext">EvalContext</a>&lt;'_, '_, '_, '_, '_, '_, '_, '_&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="../struct.Expression.html" title="struct casbin::rhai::Expression">Expression</a>&lt;'_&gt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.Dynamic.html" title="struct casbin::rhai::Dynamic">Dynamic</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Register a custom syntax with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<h1 id="warning---low-level-api" class="section-header"><a href="#warning---low-level-api">WARNING - Low Level API</a></h1>
<p>This function is very low level.</p>
<ul>
<li><code>scope_may_be_changed</code> specifies variables have been added/removed by this custom syntax.</li>
<li><code>parse</code> is the parsing function.</li>
<li><code>func</code> is the implementation function.</li>
</ul>
<p>All custom keywords must be manually registered via <a href="../struct.Engine.html#method.register_custom_operator" title="Engine::register_custom_operator"><code>Engine::register_custom_operator</code></a>.
Otherwise, custom keywords wonâ€™t be recognized.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-1" class="impl has-srclink"><div class="rightside"></div><a href="#impl-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.new" class="method has-srclink"><div class="rightside"></div><a href="#method.new" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.new" class="fnname">new</a>() -&gt; <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Create a new <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.new_raw" class="method has-srclink"><div class="rightside"></div><a href="#method.new_raw" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.new_raw" class="fnname">new_raw</a>() -&gt; <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Create a new <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a> with minimal built-in functions.</p>
<p>Use <a href="../struct.Engine.html#method.register_global_module" title="Engine::register_global_module"><code>register_global_module</code></a> to add packages of functions.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.map_type_name" class="method has-srclink"><div class="rightside"></div><a href="#method.map_type_name" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.map_type_name" class="fnname">map_type_name</a>(&amp;'a self, name: &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) -&gt; &amp;'a <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a></h4></div></summary><div class="docblock"><p>Pretty-print a type name.</p>
<p>If a type is registered via <a href="../struct.Engine.html#method.register_type_with_name" title="Engine::register_type_with_name"><code>register_type_with_name</code></a>,
the type name provided for the registration will be used.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-2" class="impl has-srclink"><div class="rightside"></div><a href="#impl-2" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div></summary><div class="docblock"><p>Engine public API</p>
</div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_fn" class="method has-srclink"><div class="rightside"></div><a href="#method.register_fn" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_fn" class="fnname">register_fn</a>&lt;N, A, F&gt;(&amp;mut self, name: N, func: F) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="../trait.RegisterNativeFunction.html" title="trait casbin::rhai::RegisterNativeFunction">RegisterNativeFunction</a>&lt;A, <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;N: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;SmartString&lt;Compact&gt;&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a custom function with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<h1 id="example-1" class="section-header"><a href="#example-1">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="comment">// Normal function</span>
<span class="kw">fn</span> <span class="ident">add</span>(<span class="ident">x</span>: <span class="ident">i64</span>, <span class="ident">y</span>: <span class="ident">i64</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i64</span> {
    <span class="ident">x</span> <span class="op">+</span> <span class="ident">y</span>
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="ident">engine</span>.<span class="ident">register_fn</span>(<span class="string">&quot;add&quot;</span>, <span class="ident">add</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;add(40, 2)&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);

<span class="comment">// You can also register a closure.</span>
<span class="ident">engine</span>.<span class="ident">register_fn</span>(<span class="string">&quot;sub&quot;</span>, <span class="op">|</span><span class="ident">x</span>: <span class="ident">i64</span>, <span class="ident">y</span>: <span class="ident">i64</span><span class="op">|</span> <span class="ident">x</span> <span class="op">-</span> <span class="ident">y</span> );

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;sub(44, 2)&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_result_fn" class="method has-srclink"><div class="rightside"></div><a href="#method.register_result_fn" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_result_fn" class="fnname">register_result_fn</a>&lt;N, A, F, R&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;func: F<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;F: <a class="trait" href="../trait.RegisterNativeFunction.html" title="trait casbin::rhai::RegisterNativeFunction">RegisterNativeFunction</a>&lt;A, <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;R, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;N: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;SmartString&lt;Compact&gt;&gt;,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a custom fallible function with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<h1 id="example-2" class="section-header"><a href="#example-2">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">EvalAltResult</span>};

<span class="comment">// Normal function</span>
<span class="kw">fn</span> <span class="ident">div</span>(<span class="ident">x</span>: <span class="ident">i64</span>, <span class="ident">y</span>: <span class="ident">i64</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">i64</span>, <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">EvalAltResult</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="kw">if</span> <span class="ident">y</span> <span class="op">=</span><span class="op">=</span> <span class="number">0</span> {
        <span class="comment">// &#39;.into()&#39; automatically converts to &#39;Box&lt;EvalAltResult::ErrorRuntime&gt;&#39;</span>
        <span class="prelude-val">Err</span>(<span class="string">&quot;division by zero!&quot;</span>.<span class="ident">into</span>())
    } <span class="kw">else</span> {
        <span class="prelude-val">Ok</span>(<span class="ident">x</span> <span class="op">/</span> <span class="ident">y</span>)
    }
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="ident">engine</span>.<span class="ident">register_result_fn</span>(<span class="string">&quot;div&quot;</span>, <span class="ident">div</span>);

<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;div(42, 0)&quot;</span>)
      .<span class="ident">expect_err</span>(<span class="string">&quot;expecting division by zero error!&quot;</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_raw_fn" class="method has-srclink"><div class="rightside"></div><a href="#method.register_raw_fn" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_raw_fn" class="fnname">register_raw_fn</a>&lt;N, T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;arg_types: <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">&amp;[</a><a class="struct" href="struct.TypeId.html" title="struct casbin::rhai::plugin::TypeId">TypeId</a><a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">]</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;func: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="struct" href="../struct.NativeCallContext.html" title="struct casbin::rhai::NativeCallContext">NativeCallContext</a>&lt;'_&gt;, <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">&amp;mut [</a>&amp;mut <a class="struct" href="../struct.Dynamic.html" title="struct casbin::rhai::Dynamic">Dynamic</a><a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">]</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;N: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;SmartString&lt;Compact&gt;&gt;,&nbsp;</span></h4></div><div class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span> Deprecated: <p>this function is volatile and may change</p>
</div></div></summary><div class="docblock"><p>Register a function of the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<h1 id="warning---low-level-api-1" class="section-header"><a href="#warning---low-level-api-1">WARNING - Low Level API</a></h1>
<p>This function is very low level.  It takes a list of <a href="struct.TypeId.html" title="std::any::TypeId"><code>TypeId</code></a>â€™s indicating the actual types of the parameters.</p>
<p>Arguments are simply passed in as a mutable array of <a href="../struct.Dynamic.html" title="Dynamic"><code>&amp;mut Dynamic</code></a>,
The arguments are guaranteed to be of the correct types matching the <a href="struct.TypeId.html" title="std::any::TypeId"><code>TypeId</code></a>â€™s.</p>
<p>To access a primary argument value (i.e. cloning is cheap), use: <code>args[n].as_xxx().unwrap()</code></p>
<p>To access an argument value and avoid cloning, use <code>std::mem::take(args[n]).cast::&lt;T&gt;()</code>.
Notice that this will <em>consume</em> the argument, replacing it with <code>()</code>.</p>
<p>To access the first mutable parameter, use <code>args.get_mut(0).unwrap()</code></p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_type" class="method has-srclink"><div class="rightside"></div><a href="#method.register_type" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_type" class="fnname">register_type</a>&lt;T&gt;(&amp;mut self) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a custom type for use with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.
The type must implement <a href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="Clone"><code>Clone</code></a>.</p>
<p>Not available under <code>no_object</code>.</p>
<h1 id="example-3" class="section-header"><a href="#example-3">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Debug</span>, <span class="ident">Clone</span>, <span class="ident">Eq</span>, <span class="ident">PartialEq</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">field</span>: <span class="ident">i64</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>                    { <span class="self">Self</span> { <span class="ident">field</span>: <span class="number">1</span> } }

    <span class="kw">fn</span> <span class="ident">update</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">offset</span>: <span class="ident">i64</span>)   { <span class="self">self</span>.<span class="ident">field</span> <span class="op">+</span><span class="op">=</span> <span class="ident">offset</span>; }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>
    .<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>()
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Use `register_fn` to register methods on the type.</span>
    .<span class="ident">register_fn</span>(<span class="string">&quot;update&quot;</span>, <span class="ident">TestStruct::update</span>);

<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>(<span class="string">&quot;let x = new_ts(); x.update(41); x&quot;</span>)<span class="question-mark">?</span>,
    <span class="ident">TestStruct</span> { <span class="ident">field</span>: <span class="number">42</span> }
);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_type_with_name" class="method has-srclink"><div class="rightside"></div><a href="#method.register_type_with_name" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_type_with_name" class="fnname">register_type_with_name</a>&lt;T&gt;(&amp;mut self, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a custom type for use with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>, with a pretty-print name
for the <code>type_of</code> function. The type must implement <a href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="Clone"><code>Clone</code></a>.</p>
<p>Not available under <code>no_object</code>.</p>
<h1 id="example-4" class="section-header"><a href="#example-4">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">field</span>: <span class="ident">i64</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="self">Self</span> { <span class="ident">field</span>: <span class="number">1</span> } }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>
    .<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>()
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>);

<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span>(<span class="string">&quot;let x = new_ts(); type_of(x)&quot;</span>)<span class="question-mark">?</span>,
    <span class="string">&quot;rust_out::TestStruct&quot;</span>
);

<span class="comment">// Re-register the custom type with a name.</span>
<span class="ident">engine</span>.<span class="ident">register_type_with_name</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>(<span class="string">&quot;Hello&quot;</span>);

<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span>(<span class="string">&quot;let x = new_ts(); type_of(x)&quot;</span>)<span class="question-mark">?</span>,
    <span class="string">&quot;Hello&quot;</span>
);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_iterator" class="method has-srclink"><div class="rightside"></div><a href="#method.register_iterator" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_iterator" class="fnname">register_iterator</a>&lt;T&gt;(&amp;mut self) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;T as <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/1.55.0/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.Item" title="type core::iter::traits::collect::IntoIterator::Item">Item</a>: Variant,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;T as <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&gt;::<a class="type" href="https://doc.rust-lang.org/1.55.0/core/iter/traits/collect/trait.IntoIterator.html#associatedtype.Item" title="type core::iter::traits::collect::IntoIterator::Item">Item</a>: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register an type iterator for an iterable type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.
This is an advanced feature.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_get" class="method has-srclink"><div class="rightside"></div><a href="#method.register_get" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_get" class="fnname">register_get</a>&lt;T, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;get_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T) -&gt; V + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a getter function for a member of a registered type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>The function signature must start with <code>&amp;mut self</code> and not <code>&amp;self</code>.</p>
<p>Not available under <code>no_object</code>.</p>
<h1 id="example-5" class="section-header"><a href="#example-5">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">field</span>: <span class="ident">i64</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>                { <span class="self">Self</span> { <span class="ident">field</span>: <span class="number">1</span> } }

    <span class="comment">// Even a getter must start with `&amp;mut self` and not `&amp;self`.</span>
    <span class="kw">fn</span> <span class="ident">get_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i64</span>  { <span class="self">self</span>.<span class="ident">field</span> }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>
    .<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>()
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register a getter on a property (notice it doesn&#39;t have to be the same name).</span>
    .<span class="ident">register_get</span>(<span class="string">&quot;xyz&quot;</span>, <span class="ident">TestStruct::get_field</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a.xyz&quot;</span>)<span class="question-mark">?</span>, <span class="number">1</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_get_result" class="method has-srclink"><div class="rightside"></div><a href="#method.register_get_result" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_get_result" class="fnname">register_get_result</a>&lt;T, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;get_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;V, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a getter function for a member of a registered type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>The function signature must start with <code>&amp;mut self</code> and not <code>&amp;self</code>.</p>
<p>Not available under <code>no_object</code>.</p>
<h1 id="example-6" class="section-header"><a href="#example-6">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Dynamic</span>, <span class="ident">EvalAltResult</span>};

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">field</span>: <span class="ident">i64</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="self">Self</span> { <span class="ident">field</span>: <span class="number">1</span> } }

    <span class="comment">// Even a getter must start with `&amp;mut self` and not `&amp;self`.</span>
    <span class="kw">fn</span> <span class="ident">get_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">i64</span>, <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">EvalAltResult</span><span class="op">&gt;</span><span class="op">&gt;</span> {
        <span class="prelude-val">Ok</span>(<span class="self">self</span>.<span class="ident">field</span>)
    }
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>
    .<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>()
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register a getter on a property (notice it doesn&#39;t have to be the same name).</span>
    .<span class="ident">register_get_result</span>(<span class="string">&quot;xyz&quot;</span>, <span class="ident">TestStruct::get_field</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a.xyz&quot;</span>)<span class="question-mark">?</span>, <span class="number">1</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_set" class="method has-srclink"><div class="rightside"></div><a href="#method.register_set" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_set" class="fnname">register_set</a>&lt;T, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;set_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, V) + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a setter function for a member of a registered type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>Not available under <code>no_object</code>.</p>
<h1 id="example-7" class="section-header"><a href="#example-7">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Debug</span>, <span class="ident">Clone</span>, <span class="ident">Eq</span>, <span class="ident">PartialEq</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">field</span>: <span class="ident">i64</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>                        { <span class="self">Self</span> { <span class="ident">field</span>: <span class="number">1</span> } }

    <span class="kw">fn</span> <span class="ident">set_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">new_val</span>: <span class="ident">i64</span>)   { <span class="self">self</span>.<span class="ident">field</span> <span class="op">=</span> <span class="ident">new_val</span>; }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>
    .<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>()
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register a setter on a property (notice it doesn&#39;t have to be the same name)</span>
    .<span class="ident">register_set</span>(<span class="string">&quot;xyz&quot;</span>, <span class="ident">TestStruct::set_field</span>);

<span class="comment">// Notice that, with a getter, there is no way to get the property value</span>
<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a.xyz = 42; a&quot;</span>)<span class="question-mark">?</span>,
    <span class="ident">TestStruct</span> { <span class="ident">field</span>: <span class="number">42</span> }
);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_set_result" class="method has-srclink"><div class="rightside"></div><a href="#method.register_set_result" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_set_result" class="fnname">register_set_result</a>&lt;T, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;set_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, V) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register a setter function for a member of a registered type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>Not available under <code>no_object</code>.</p>
<h1 id="example-8" class="section-header"><a href="#example-8">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Dynamic</span>, <span class="ident">EvalAltResult</span>};

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Debug</span>, <span class="ident">Clone</span>, <span class="ident">Eq</span>, <span class="ident">PartialEq</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">field</span>: <span class="ident">i64</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="self">Self</span> { <span class="ident">field</span>: <span class="number">1</span> } }

    <span class="kw">fn</span> <span class="ident">set_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">new_val</span>: <span class="ident">i64</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">EvalAltResult</span><span class="op">&gt;</span><span class="op">&gt;</span> {
        <span class="self">self</span>.<span class="ident">field</span> <span class="op">=</span> <span class="ident">new_val</span>;
        <span class="prelude-val">Ok</span>(())
    }
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>
    .<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>()
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register a setter on a property (notice it doesn&#39;t have to be the same name)</span>
    .<span class="ident">register_set_result</span>(<span class="string">&quot;xyz&quot;</span>, <span class="ident">TestStruct::set_field</span>);

<span class="comment">// Notice that, with a getter, there is no way to get the property value</span>
<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a.xyz = 42; a&quot;</span>)<span class="question-mark">?</span>,
    <span class="ident">TestStruct</span> { <span class="ident">field</span>: <span class="number">42</span> }
);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_get_set" class="method has-srclink"><div class="rightside"></div><a href="#method.register_get_set" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_get_set" class="fnname">register_get_set</a>&lt;T, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;get_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T) -&gt; V + SendSync + 'static, <br>&nbsp;&nbsp;&nbsp;&nbsp;set_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, V) + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Short-hand for registering both getter and setter functions
of a registered type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>All function signatures must start with <code>&amp;mut self</code> and not <code>&amp;self</code>.</p>
<p>Not available under <code>no_object</code>.</p>
<h1 id="example-9" class="section-header"><a href="#example-9">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">field</span>: <span class="ident">i64</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>                        { <span class="self">Self</span> { <span class="ident">field</span>: <span class="number">1</span> } }

    <span class="comment">// Even a getter must start with `&amp;mut self` and not `&amp;self`.</span>
    <span class="kw">fn</span> <span class="ident">get_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i64</span>          { <span class="self">self</span>.<span class="ident">field</span> }

    <span class="kw">fn</span> <span class="ident">set_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">new_val</span>: <span class="ident">i64</span>)   { <span class="self">self</span>.<span class="ident">field</span> <span class="op">=</span> <span class="ident">new_val</span>; }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>
    .<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>()
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register both a getter and a setter on a property</span>
    <span class="comment">// (notice it doesn&#39;t have to be the same name)</span>
    .<span class="ident">register_get_set</span>(<span class="string">&quot;xyz&quot;</span>, <span class="ident">TestStruct::get_field</span>, <span class="ident">TestStruct::set_field</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a.xyz = 42; a.xyz&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_indexer_get" class="method has-srclink"><div class="rightside"></div><a href="#method.register_indexer_get" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_indexer_get" class="fnname">register_indexer_get</a>&lt;T, X, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;get_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, X) -&gt; V + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register an index getter for a custom type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>The function signature must start with <code>&amp;mut self</code> and not <code>&amp;self</code>.</p>
<p>Not available under both <code>no_index</code> and <code>no_object</code>.</p>
<h1 id="panics" class="section-header"><a href="#panics">Panics</a></h1>
<p>Panics if the type is <a href="../type.Array.html" title="Array"><code>Array</code></a>, <a href="../type.Map.html" title="Map"><code>Map</code></a>, <a href="https://doc.rust-lang.org/1.55.0/alloc/string/struct.String.html" title="String"><code>String</code></a>,
<a href="../struct.ImmutableString.html" title="crate::ImmutableString"><code>ImmutableString</code></a>, <code>&amp;str</code> or <a href="../type.INT.html" title="crate::INT"><code>INT</code></a>.
Indexers for arrays, object maps, strings and integers cannot be registered.</p>
<h1 id="example-10" class="section-header"><a href="#example-10">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">fields</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="self">Self</span> { <span class="ident">fields</span>: <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] } }

    <span class="comment">// Even a getter must start with `&amp;mut self` and not `&amp;self`.</span>
    <span class="kw">fn</span> <span class="ident">get_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">index</span>: <span class="ident">i64</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i64</span> { <span class="self">self</span>.<span class="ident">fields</span>[<span class="ident">index</span> <span class="kw">as</span> <span class="ident">usize</span>] }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>.<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>();

<span class="ident">engine</span>
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register an indexer.</span>
    .<span class="ident">register_indexer_get</span>(<span class="ident">TestStruct::get_field</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a[2]&quot;</span>)<span class="question-mark">?</span>, <span class="number">3</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_indexer_get_result" class="method has-srclink"><div class="rightside"></div><a href="#method.register_indexer_get_result" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_indexer_get_result" class="fnname">register_indexer_get_result</a>&lt;T, X, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;get_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, X) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;V, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register an index getter for a custom type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>The function signature must start with <code>&amp;mut self</code> and not <code>&amp;self</code>.</p>
<p>Not available under both <code>no_index</code> and <code>no_object</code>.</p>
<h1 id="panics-1" class="section-header"><a href="#panics-1">Panics</a></h1>
<p>Panics if the type is <a href="../type.Array.html" title="Array"><code>Array</code></a>, <a href="../type.Map.html" title="Map"><code>Map</code></a>, <a href="https://doc.rust-lang.org/1.55.0/alloc/string/struct.String.html" title="String"><code>String</code></a>,
<a href="../struct.ImmutableString.html" title="crate::ImmutableString"><code>ImmutableString</code></a>, <code>&amp;str</code> or <a href="../type.INT.html" title="crate::INT"><code>INT</code></a>.
Indexers for arrays, object maps, strings and integers cannot be registered.</p>
<h1 id="example-11" class="section-header"><a href="#example-11">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Dynamic</span>, <span class="ident">EvalAltResult</span>};

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">fields</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="self">Self</span> { <span class="ident">fields</span>: <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] } }

    <span class="comment">// Even a getter must start with `&amp;mut self` and not `&amp;self`.</span>
    <span class="kw">fn</span> <span class="ident">get_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">index</span>: <span class="ident">i64</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span><span class="ident">i64</span>, <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">EvalAltResult</span><span class="op">&gt;</span><span class="op">&gt;</span> {
        <span class="prelude-val">Ok</span>(<span class="self">self</span>.<span class="ident">fields</span>[<span class="ident">index</span> <span class="kw">as</span> <span class="ident">usize</span>])
    }
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>.<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>();

<span class="ident">engine</span>
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register an indexer.</span>
    .<span class="ident">register_indexer_get_result</span>(<span class="ident">TestStruct::get_field</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a[2]&quot;</span>)<span class="question-mark">?</span>, <span class="number">3</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_indexer_set" class="method has-srclink"><div class="rightside"></div><a href="#method.register_indexer_set" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_indexer_set" class="fnname">register_indexer_set</a>&lt;T, X, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;set_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, X, V) + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register an index setter for a custom type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>Not available under both <code>no_index</code> and <code>no_object</code>.</p>
<h1 id="panics-2" class="section-header"><a href="#panics-2">Panics</a></h1>
<p>Panics if the type is <a href="../type.Array.html" title="Array"><code>Array</code></a>, <a href="../type.Map.html" title="Map"><code>Map</code></a>, <a href="https://doc.rust-lang.org/1.55.0/alloc/string/struct.String.html" title="String"><code>String</code></a>,
<a href="../struct.ImmutableString.html" title="crate::ImmutableString"><code>ImmutableString</code></a>, <code>&amp;str</code> or <a href="../type.INT.html" title="crate::INT"><code>INT</code></a>.
Indexers for arrays, object maps, strings and integers cannot be registered.</p>
<h1 id="example-12" class="section-header"><a href="#example-12">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">fields</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="self">Self</span> { <span class="ident">fields</span>: <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] } }

    <span class="kw">fn</span> <span class="ident">set_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">index</span>: <span class="ident">i64</span>, <span class="ident">value</span>: <span class="ident">i64</span>) { <span class="self">self</span>.<span class="ident">fields</span>[<span class="ident">index</span> <span class="kw">as</span> <span class="ident">usize</span>] <span class="op">=</span> <span class="ident">value</span>; }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>.<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>();

<span class="ident">engine</span>
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register an indexer.</span>
    .<span class="ident">register_indexer_set</span>(<span class="ident">TestStruct::set_field</span>);

<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a[2] = 42; a&quot;</span>)<span class="question-mark">?</span>.<span class="ident">fields</span>[<span class="number">2</span>],
    <span class="number">42</span>
);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_indexer_set_result" class="method has-srclink"><div class="rightside"></div><a href="#method.register_indexer_set_result" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_indexer_set_result" class="fnname">register_indexer_set_result</a>&lt;T, X, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;set_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, X, V) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Register an index setter for a custom type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>Not available under both <code>no_index</code> and <code>no_object</code>.</p>
<h1 id="panics-3" class="section-header"><a href="#panics-3">Panics</a></h1>
<p>Panics if the type is <a href="../type.Array.html" title="Array"><code>Array</code></a>, <a href="../type.Map.html" title="Map"><code>Map</code></a>, <a href="https://doc.rust-lang.org/1.55.0/alloc/string/struct.String.html" title="String"><code>String</code></a>,
<a href="../struct.ImmutableString.html" title="crate::ImmutableString"><code>ImmutableString</code></a>, <code>&amp;str</code> or <a href="../type.INT.html" title="crate::INT"><code>INT</code></a>.
Indexers for arrays, object maps, strings and integers cannot be registered.</p>
<h1 id="example-13" class="section-header"><a href="#example-13">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Dynamic</span>, <span class="ident">EvalAltResult</span>};

<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">fields</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span> { <span class="self">Self</span> { <span class="ident">fields</span>: <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] } }

    <span class="kw">fn</span> <span class="ident">set_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">index</span>: <span class="ident">i64</span>, <span class="ident">value</span>: <span class="ident">i64</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">Box</span><span class="op">&lt;</span><span class="ident">EvalAltResult</span><span class="op">&gt;</span><span class="op">&gt;</span> {
        <span class="self">self</span>.<span class="ident">fields</span>[<span class="ident">index</span> <span class="kw">as</span> <span class="ident">usize</span>] <span class="op">=</span> <span class="ident">value</span>;
        <span class="prelude-val">Ok</span>(())
    }
}

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>.<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>();

<span class="ident">engine</span>
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register an indexer.</span>
    .<span class="ident">register_indexer_set_result</span>(<span class="ident">TestStruct::set_field</span>);

<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a[2] = 42; a&quot;</span>)<span class="question-mark">?</span>.<span class="ident">fields</span>[<span class="number">2</span>],
    <span class="number">42</span>
);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_indexer_get_set" class="method has-srclink"><div class="rightside"></div><a href="#method.register_indexer_get_set" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_indexer_get_set" class="fnname">register_indexer_get_set</a>&lt;T, X, V&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;get_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, X) -&gt; V + SendSync + 'static, <br>&nbsp;&nbsp;&nbsp;&nbsp;set_fn: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T, X, V) + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;X: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Short-hand for registering both index getter and setter functions for a custom type with the <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>Not available under both <code>no_index</code> and <code>no_object</code>.</p>
<h1 id="panics-4" class="section-header"><a href="#panics-4">Panics</a></h1>
<p>Panics if the type is <a href="../type.Array.html" title="Array"><code>Array</code></a>, <a href="../type.Map.html" title="Map"><code>Map</code></a>, <a href="https://doc.rust-lang.org/1.55.0/alloc/string/struct.String.html" title="String"><code>String</code></a>,
<a href="../struct.ImmutableString.html" title="crate::ImmutableString"><code>ImmutableString</code></a>, <code>&amp;str</code> or <a href="../type.INT.html" title="crate::INT"><code>INT</code></a>.
Indexers for arrays, object maps, strings and integers cannot be registered.</p>
<h1 id="example-14" class="section-header"><a href="#example-14">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">Clone</span>)]</span>
<span class="kw">struct</span> <span class="ident">TestStruct</span> {
    <span class="ident">fields</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>
}

<span class="kw">impl</span> <span class="ident">TestStruct</span> {
    <span class="kw">fn</span> <span class="ident">new</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="self">Self</span>                                { <span class="self">Self</span> { <span class="ident">fields</span>: <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>] } }

    <span class="comment">// Even a getter must start with `&amp;mut self` and not `&amp;self`.</span>
    <span class="kw">fn</span> <span class="ident">get_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">index</span>: <span class="ident">i64</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i64</span>      { <span class="self">self</span>.<span class="ident">fields</span>[<span class="ident">index</span> <span class="kw">as</span> <span class="ident">usize</span>] }

    <span class="kw">fn</span> <span class="ident">set_field</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="self">self</span>, <span class="ident">index</span>: <span class="ident">i64</span>, <span class="ident">value</span>: <span class="ident">i64</span>) { <span class="self">self</span>.<span class="ident">fields</span>[<span class="ident">index</span> <span class="kw">as</span> <span class="ident">usize</span>] <span class="op">=</span> <span class="ident">value</span>; }
}

<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register API for the custom type.</span>
<span class="ident">engine</span>.<span class="ident">register_type</span>::<span class="op">&lt;</span><span class="ident">TestStruct</span><span class="op">&gt;</span>();

<span class="ident">engine</span>
    .<span class="ident">register_fn</span>(<span class="string">&quot;new_ts&quot;</span>, <span class="ident">TestStruct::new</span>)
    <span class="comment">// Register an indexer.</span>
    .<span class="ident">register_indexer_get_set</span>(<span class="ident">TestStruct::get_field</span>, <span class="ident">TestStruct::set_field</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;let a = new_ts(); a[2] = 42; a[2]&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_global_module" class="method has-srclink"><div class="rightside"></div><a href="#method.register_global_module" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_global_module" class="fnname">register_global_module</a>(&amp;mut self, module: <a class="struct" href="../struct.Shared.html" title="struct casbin::rhai::Shared">Arc</a>&lt;<a class="struct" href="../struct.Module.html" title="struct casbin::rhai::Module">Module</a>&gt;) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Register a shared <a href="../struct.Module.html" title="Module"><code>Module</code></a> into the global namespace of <a href="../struct.Engine.html" title="Engine"><code>Engine</code></a>.</p>
<p>All functions and type iterators are automatically available to scripts without namespace
qualifications.</p>
<p>Sub-modules and variables are <strong>ignored</strong>.</p>
<p>When searching for functions, modules loaded later are preferred. In other words, loaded
modules are searched in reverse order.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.compile" class="method has-srclink"><div class="rightside"></div><a href="#method.compile" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compile" class="fnname">compile</a>(&amp;self, script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>, <a class="struct" href="../struct.ParseError.html" title="struct casbin::rhai::ParseError">ParseError</a>&gt;</h4></div></summary><div class="docblock"><p>Compile a string into an <a href="../struct.AST.html" title="AST"><code>AST</code></a>, which can be used later for evaluation.</p>
<h1 id="example-15" class="section-header"><a href="#example-15">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Compile a script to an AST and store it for later evaluation</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile</span>(<span class="string">&quot;40 + 2&quot;</span>)<span class="question-mark">?</span>;

<span class="kw">for</span> <span class="kw">_</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">42</span> {
    <span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">42</span>);
}</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.compile_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.compile_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compile_with_scope" class="fnname">compile_with_scope</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;<a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>, <a class="struct" href="../struct.ParseError.html" title="struct casbin::rhai::ParseError">ParseError</a>&gt;</h4></div></summary><div class="docblock"><p>Compile a string into an <a href="../struct.AST.html" title="AST"><code>AST</code></a> using own scope, which can be used later for evaluation.</p>
<p>The scope is useful for passing constants into the script for optimization
when using [<code>OptimizationLevel::Full</code>].</p>
<h1 id="example-16" class="section-header"><a href="#example-16">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>, <span class="ident">OptimizationLevel</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Set optimization level to &#39;Full&#39; so the Engine can fold constants</span>
<span class="comment">// into function calls and operators.</span>
<span class="ident">engine</span>.<span class="ident">set_optimization_level</span>(<span class="ident">OptimizationLevel::Full</span>);

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push_constant</span>(<span class="string">&quot;x&quot;</span>, <span class="number">42_i64</span>);   <span class="comment">// &#39;x&#39; is a constant</span>

<span class="comment">// Compile a script to an AST and store it for later evaluation.</span>
<span class="comment">// Notice that `Full` optimization is on, so constants are folded</span>
<span class="comment">// into function calls and operators.</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile_with_scope</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>,
            <span class="string">&quot;if x &gt; 40 { x } else { 0 }&quot;</span>    <span class="comment">// all &#39;x&#39; are replaced with 42</span>
)<span class="question-mark">?</span>;

<span class="comment">// Normally this would have failed because no scope is passed into the &#39;eval_ast&#39;</span>
<span class="comment">// call and so the variable &#39;x&#39; does not exist.  Here, it passes because the script</span>
<span class="comment">// has been optimized and all references to &#39;x&#39; are already gone.</span>
<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.compile_scripts_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.compile_scripts_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compile_scripts_with_scope" class="fnname">compile_scripts_with_scope</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;<a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;scripts: <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">&amp;[</a>&amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a><a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.slice.html">]</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>, <a class="struct" href="../struct.ParseError.html" title="struct casbin::rhai::ParseError">ParseError</a>&gt;</h4></div></summary><div class="docblock"><p>When passed a list of strings, first join the strings into one large script,
and then compile them into an <a href="../struct.AST.html" title="AST"><code>AST</code></a> using own scope, which can be used later for evaluation.</p>
<p>The scope is useful for passing constants into the script for optimization
when using [<code>OptimizationLevel::Full</code>].</p>
<h2 id="note" class="section-header"><a href="#note">Note</a></h2>
<p>All strings are simply parsed one after another with nothing inserted in between, not even
a newline or space.</p>
<h1 id="example-17" class="section-header"><a href="#example-17">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>, <span class="ident">OptimizationLevel</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Set optimization level to &#39;Full&#39; so the Engine can fold constants</span>
<span class="comment">// into function calls and operators.</span>
<span class="ident">engine</span>.<span class="ident">set_optimization_level</span>(<span class="ident">OptimizationLevel::Full</span>);

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push_constant</span>(<span class="string">&quot;x&quot;</span>, <span class="number">42_i64</span>);   <span class="comment">// &#39;x&#39; is a constant</span>

<span class="comment">// Compile a script made up of script segments to an AST and store it for later evaluation.</span>
<span class="comment">// Notice that `Full` optimization is on, so constants are folded</span>
<span class="comment">// into function calls and operators.</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile_scripts_with_scope</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="kw-2">&amp;</span>[
            <span class="string">&quot;if x &gt; 40&quot;</span>,            <span class="comment">// all &#39;x&#39; are replaced with 42</span>
            <span class="string">&quot;{ x } el&quot;</span>,
            <span class="string">&quot;se { 0 }&quot;</span>              <span class="comment">// segments do not need to be valid scripts!</span>
])<span class="question-mark">?</span>;

<span class="comment">// Normally this would have failed because no scope is passed into the &#39;eval_ast&#39;</span>
<span class="comment">// call and so the variable &#39;x&#39; does not exist.  Here, it passes because the script</span>
<span class="comment">// has been optimized and all references to &#39;x&#39; are already gone.</span>
<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.compile_file" class="method has-srclink"><div class="rightside"></div><a href="#method.compile_file" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compile_file" class="fnname">compile_file</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;path: <a class="struct" href="https://doc.rust-lang.org/1.55.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Compile a script file into an <a href="../struct.AST.html" title="AST"><code>AST</code></a>, which can be used later for evaluation.</p>
<p>Not available under <code>no_std</code> or <code>WASM</code>.</p>
<h1 id="example-18" class="section-header"><a href="#example-18">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Compile a script file to an AST and store it for later evaluation.</span>
<span class="comment">// Notice that a PathBuf is required which can easily be constructed from a string.</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile_file</span>(<span class="string">&quot;script.rhai&quot;</span>.<span class="ident">into</span>())<span class="question-mark">?</span>;

<span class="kw">for</span> <span class="kw">_</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">42</span> {
    <span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>;
}</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.compile_file_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.compile_file_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compile_file_with_scope" class="fnname">compile_file_with_scope</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;<a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;path: <a class="struct" href="https://doc.rust-lang.org/1.55.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Compile a script file into an <a href="../struct.AST.html" title="AST"><code>AST</code></a> using own scope, which can be used later for evaluation.</p>
<p>Not available under <code>no_std</code> or <code>WASM</code>.</p>
<p>The scope is useful for passing constants into the script for optimization
when using [<code>OptimizationLevel::Full</code>].</p>
<h1 id="example-19" class="section-header"><a href="#example-19">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>, <span class="ident">OptimizationLevel</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Set optimization level to &#39;Full&#39; so the Engine can fold constants.</span>
<span class="ident">engine</span>.<span class="ident">set_optimization_level</span>(<span class="ident">OptimizationLevel::Full</span>);

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push_constant</span>(<span class="string">&quot;x&quot;</span>, <span class="number">42_i64</span>);   <span class="comment">// &#39;x&#39; is a constant</span>

<span class="comment">// Compile a script to an AST and store it for later evaluation.</span>
<span class="comment">// Notice that a PathBuf is required which can easily be constructed from a string.</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile_file_with_scope</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="string">&quot;script.rhai&quot;</span>.<span class="ident">into</span>())<span class="question-mark">?</span>;

<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>;</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.parse_json" class="method has-srclink"><div class="rightside"></div><a href="#method.parse_json" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.parse_json" class="fnname">parse_json</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;json: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;has_null: <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.bool.html">bool</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>&lt;SmartString&lt;Compact&gt;, <a class="struct" href="../struct.Dynamic.html" title="struct casbin::rhai::Dynamic">Dynamic</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Parse a JSON string into an <a href="../type.Map.html" title="Map">object map</a>.
This is a light-weight alternative to using, say,
<a href="https://crates.io/crates/serde_json"><code>serde_json</code></a> to deserialize the JSON.</p>
<p>Not available under <code>no_object</code>.</p>
<p>The JSON string must be an object hash.  It cannot be a simple scalar value.</p>
<p>Set <code>has_null</code> to <code>true</code> in order to map <code>null</code> values to <code>()</code>.
Setting it to <code>false</code> will cause an <a href="../enum.EvalAltResult.html#variant.ErrorVariableNotFound" title="EvalAltResult::ErrorVariableNotFound"><code>ErrorVariableNotFound</code></a> error during parsing.</p>
<h1 id="json-with-sub-objects" class="section-header"><a href="#json-with-sub-objects">JSON With Sub-Objects</a></h1>
<p>This method assumes no sub-objects in the JSON string.  That is because the syntax
of a JSON sub-object (or object hash), <code>{ .. }</code>, is different from Rhaiâ€™s syntax, <code>#{ .. }</code>.
Parsing a JSON string with sub-objects will cause a syntax error.</p>
<p>If it is certain that the character <code>{</code> never appears in any text string within the JSON object,
which is a valid assumption for many use cases, then globally replace <code>{</code> with <code>#{</code> before calling this method.</p>
<h1 id="example-20" class="section-header"><a href="#example-20">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Map</span>};

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="kw">let</span> <span class="ident">map</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">parse_json</span>(
    <span class="string">r#&quot;{&quot;a&quot;:123, &quot;b&quot;:42, &quot;c&quot;:{&quot;x&quot;:false, &quot;y&quot;:true}, &quot;d&quot;:null}&quot;#</span>
        .<span class="ident">replace</span>(<span class="string">&quot;{&quot;</span>, <span class="string">&quot;#{&quot;</span>).<span class="ident">as_str</span>(),
<span class="bool-val">true</span>)<span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(<span class="ident">map</span>.<span class="ident">len</span>(), <span class="number">4</span>);
<span class="macro">assert_eq!</span>(<span class="ident">map</span>[<span class="string">&quot;a&quot;</span>].<span class="ident">as_int</span>().<span class="ident">unwrap</span>(), <span class="number">123</span>);
<span class="macro">assert_eq!</span>(<span class="ident">map</span>[<span class="string">&quot;b&quot;</span>].<span class="ident">as_int</span>().<span class="ident">unwrap</span>(), <span class="number">42</span>);
<span class="macro">assert!</span>(<span class="ident">map</span>[<span class="string">&quot;d&quot;</span>].<span class="ident">is</span>::<span class="op">&lt;</span>()<span class="op">&gt;</span>());

<span class="kw">let</span> <span class="ident">c</span> <span class="op">=</span> <span class="ident">map</span>[<span class="string">&quot;c&quot;</span>].<span class="ident">read_lock</span>::<span class="op">&lt;</span><span class="ident">Map</span><span class="op">&gt;</span>().<span class="ident">unwrap</span>();
<span class="macro">assert_eq!</span>(<span class="ident">c</span>[<span class="string">&quot;x&quot;</span>].<span class="ident">as_bool</span>().<span class="ident">unwrap</span>(), <span class="bool-val">false</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.compile_expression" class="method has-srclink"><div class="rightside"></div><a href="#method.compile_expression" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compile_expression" class="fnname">compile_expression</a>(&amp;self, script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>, <a class="struct" href="../struct.ParseError.html" title="struct casbin::rhai::ParseError">ParseError</a>&gt;</h4></div></summary><div class="docblock"><p>Compile a string containing an expression into an <a href="../struct.AST.html" title="AST"><code>AST</code></a>,
which can be used later for evaluation.</p>
<h1 id="example-21" class="section-header"><a href="#example-21">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Compile a script to an AST and store it for later evaluation</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile_expression</span>(<span class="string">&quot;40 + 2&quot;</span>)<span class="question-mark">?</span>;

<span class="kw">for</span> <span class="kw">_</span> <span class="kw">in</span> <span class="number">0</span>..<span class="number">42</span> {
    <span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">42</span>);
}</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.compile_expression_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.compile_expression_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.compile_expression_with_scope" class="fnname">compile_expression_with_scope</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;<a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>, <a class="struct" href="../struct.ParseError.html" title="struct casbin::rhai::ParseError">ParseError</a>&gt;</h4></div></summary><div class="docblock"><p>Compile a string containing an expression into an <a href="../struct.AST.html" title="AST"><code>AST</code></a> using own scope,
which can be used later for evaluation.</p>
<p>The scope is useful for passing constants into the script for optimization
when using [<code>OptimizationLevel::Full</code>].</p>
<h1 id="example-22" class="section-header"><a href="#example-22">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>, <span class="ident">OptimizationLevel</span>};

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Set optimization level to &#39;Full&#39; so the Engine can fold constants</span>
<span class="comment">// into function calls and operators.</span>
<span class="ident">engine</span>.<span class="ident">set_optimization_level</span>(<span class="ident">OptimizationLevel::Full</span>);

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push_constant</span>(<span class="string">&quot;x&quot;</span>, <span class="number">10_i64</span>);   <span class="comment">// &#39;x&#39; is a constant</span>

<span class="comment">// Compile a script to an AST and store it for later evaluation.</span>
<span class="comment">// Notice that `Full` optimization is on, so constants are folded</span>
<span class="comment">// into function calls and operators.</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile_expression_with_scope</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>,
            <span class="string">&quot;2 + (x + x) * 2&quot;</span>    <span class="comment">// all &#39;x&#39; are replaced with 10</span>
)<span class="question-mark">?</span>;

<span class="comment">// Normally this would have failed because no scope is passed into the &#39;eval_ast&#39;</span>
<span class="comment">// call and so the variable &#39;x&#39; does not exist.  Here, it passes because the script</span>
<span class="comment">// has been optimized and all references to &#39;x&#39; are already gone.</span>
<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval_file" class="method has-srclink"><div class="rightside"></div><a href="#method.eval_file" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval_file" class="fnname">eval_file</a>&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;path: <a class="struct" href="https://doc.rust-lang.org/1.55.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate a script file.</p>
<p>Not available under <code>no_std</code> or <code>WASM</code>.</p>
<h1 id="example-23" class="section-header"><a href="#example-23">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Notice that a PathBuf is required which can easily be constructed from a string.</span>
<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">eval_file</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;script.rhai&quot;</span>.<span class="ident">into</span>())<span class="question-mark">?</span>;</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval_file_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.eval_file_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval_file_with_scope" class="fnname">eval_file_with_scope</a>&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;mut <a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;path: <a class="struct" href="https://doc.rust-lang.org/1.55.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate a script file with own scope.</p>
<p>Not available under <code>no_std</code> or <code>WASM</code>.</p>
<h1 id="example-24" class="section-header"><a href="#example-24">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>};

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push</span>(<span class="string">&quot;x&quot;</span>, <span class="number">42_i64</span>);

<span class="comment">// Notice that a PathBuf is required which can easily be constructed from a string.</span>
<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">eval_file_with_scope</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="string">&quot;script.rhai&quot;</span>.<span class="ident">into</span>())<span class="question-mark">?</span>;</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval" class="method has-srclink"><div class="rightside"></div><a href="#method.eval" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval" class="fnname">eval</a>&lt;T&gt;(&amp;self, script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate a string.</p>
<h1 id="example-25" class="section-header"><a href="#example-25">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;40 + 2&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.eval_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval_with_scope" class="fnname">eval_with_scope</a>&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;mut <a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate a string with own scope.</p>
<h1 id="example-26" class="section-header"><a href="#example-26">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>};

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push</span>(<span class="string">&quot;x&quot;</span>, <span class="number">40_i64</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_with_scope</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="string">&quot;x += 2; x&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);
<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_with_scope</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="string">&quot;x += 2; x&quot;</span>)<span class="question-mark">?</span>, <span class="number">44</span>);

<span class="comment">// The variable in the scope is modified</span>
<span class="macro">assert_eq!</span>(<span class="ident">scope</span>.<span class="ident">get_value</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;x&quot;</span>).<span class="ident">expect</span>(<span class="string">&quot;variable x should exist&quot;</span>), <span class="number">44</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval_expression" class="method has-srclink"><div class="rightside"></div><a href="#method.eval_expression" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval_expression" class="fnname">eval_expression</a>&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate a string containing an expression.</p>
<h1 id="example-27" class="section-header"><a href="#example-27">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_expression</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;40 + 2&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval_expression_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.eval_expression_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval_expression_with_scope" class="fnname">eval_expression_with_scope</a>&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;mut <a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate a string containing an expression with own scope.</p>
<h1 id="example-28" class="section-header"><a href="#example-28">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>};

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push</span>(<span class="string">&quot;x&quot;</span>, <span class="number">40_i64</span>);

<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_expression_with_scope</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="string">&quot;x + 2&quot;</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval_ast" class="method has-srclink"><div class="rightside"></div><a href="#method.eval_ast" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval_ast" class="fnname">eval_ast</a>&lt;T&gt;(&amp;self, ast: &amp;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate an <a href="../struct.AST.html" title="AST"><code>AST</code></a>.</p>
<h1 id="example-29" class="section-header"><a href="#example-29">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Compile a script to an AST and store it for later evaluation</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile</span>(<span class="string">&quot;40 + 2&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// Evaluate it</span>
<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">42</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.eval_ast_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.eval_ast_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.eval_ast_with_scope" class="fnname">eval_ast_with_scope</a>&lt;T&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;mut <a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;ast: &amp;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: Variant + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,&nbsp;</span></h4></div></summary><div class="docblock"><p>Evaluate an <a href="../struct.AST.html" title="AST"><code>AST</code></a> with own scope.</p>
<h1 id="example-30" class="section-header"><a href="#example-30">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai</span>::{<span class="ident">Engine</span>, <span class="ident">Scope</span>};

<span class="kw">let</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Compile a script to an AST and store it for later evaluation</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile</span>(<span class="string">&quot;x + 2&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// Create initialized scope</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">scope</span> <span class="op">=</span> <span class="ident">Scope::new</span>();
<span class="ident">scope</span>.<span class="ident">push</span>(<span class="string">&quot;x&quot;</span>, <span class="number">40_i64</span>);

<span class="comment">// Compile a script to an AST and store it for later evaluation</span>
<span class="kw">let</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile</span>(<span class="string">&quot;x += 2; x&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// Evaluate it</span>
<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast_with_scope</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">42</span>);
<span class="macro">assert_eq!</span>(<span class="ident">engine</span>.<span class="ident">eval_ast_with_scope</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">scope</span>, <span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>, <span class="number">44</span>);

<span class="comment">// The variable in the scope is modified</span>
<span class="macro">assert_eq!</span>(<span class="ident">scope</span>.<span class="ident">get_value</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;x&quot;</span>).<span class="ident">expect</span>(<span class="string">&quot;variable x should exist&quot;</span>), <span class="number">44</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.consume_file" class="method has-srclink"><div class="rightside"></div><a href="#method.consume_file" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.consume_file" class="fnname">consume_file</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;path: <a class="struct" href="https://doc.rust-lang.org/1.55.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Evaluate a file, but throw away the result and only return error (if any).
Useful for when you donâ€™t need the result, but still need to keep track of possible errors.</p>
<p>Not available under <code>no_std</code> or <code>WASM</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.consume_file_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.consume_file_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.consume_file_with_scope" class="fnname">consume_file_with_scope</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;mut <a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;path: <a class="struct" href="https://doc.rust-lang.org/1.55.0/std/path/struct.PathBuf.html" title="struct std::path::PathBuf">PathBuf</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Evaluate a file with own scope, but throw away the result and only return error (if any).
Useful for when you donâ€™t need the result, but still need to keep track of possible errors.</p>
<p>Not available under <code>no_std</code> or <code>WASM</code>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.consume" class="method has-srclink"><div class="rightside"></div><a href="#method.consume" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.consume" class="fnname">consume</a>(&amp;self, script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Evaluate a string, but throw away the result and only return error (if any).
Useful for when you donâ€™t need the result, but still need to keep track of possible errors.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.consume_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.consume_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.consume_with_scope" class="fnname">consume_with_scope</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;mut <a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;script: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Evaluate a string with own scope, but throw away the result and only return error (if any).
Useful for when you donâ€™t need the result, but still need to keep track of possible errors.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.consume_ast" class="method has-srclink"><div class="rightside"></div><a href="#method.consume_ast" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.consume_ast" class="fnname">consume_ast</a>(&amp;self, ast: &amp;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Evaluate an AST, but throw away the result and only return error (if any).
Useful for when you donâ€™t need the result, but still need to keep track of possible errors.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.consume_ast_with_scope" class="method has-srclink"><div class="rightside"></div><a href="#method.consume_ast_with_scope" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.consume_ast_with_scope" class="fnname">consume_ast_with_scope</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;scope: &amp;mut <a class="struct" href="../struct.Scope.html" title="struct casbin::rhai::Scope">Scope</a>&lt;'_&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;ast: &amp;<a class="struct" href="../struct.AST.html" title="struct casbin::rhai::AST">AST</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</h4></div></summary><div class="docblock"><p>Evaluate an <a href="../struct.AST.html" title="AST"><code>AST</code></a> with own scope, but throw away the result and only return error (if any).
Useful for when you donâ€™t need the result, but still need to keep track of possible errors.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.on_var" class="method has-srclink"><div class="rightside"></div><a href="#method.on_var" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.on_var" class="fnname">on_var</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;callback: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>, <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.usize.html">usize</a>, &amp;<a class="struct" href="../struct.EvalContext.html" title="struct casbin::rhai::EvalContext">EvalContext</a>&lt;'_, '_, '_, '_, '_, '_, '_, '_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.55.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../struct.Dynamic.html" title="struct casbin::rhai::Dynamic">Dynamic</a>&gt;, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;<a class="enum" href="../enum.EvalAltResult.html" title="enum casbin::rhai::EvalAltResult">EvalAltResult</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt; + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Provide a callback that will be invoked before each variable access.</p>
<h1 id="return-value-of-callback" class="section-header"><a href="#return-value-of-callback">Return Value of Callback</a></h1>
<p>Return <code>Ok(None)</code> to continue with normal variable access.<br />
Return <code>Ok(Some(Dynamic))</code> as the variableâ€™s value.</p>
<h1 id="errors-in-callback" class="section-header"><a href="#errors-in-callback">Errors in Callback</a></h1>
<p>Return <code>Err(...)</code> if there is an error.</p>
<h1 id="example-31" class="section-header"><a href="#example-31">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register a variable resolver.</span>
<span class="ident">engine</span>.<span class="ident">on_var</span>(<span class="op">|</span><span class="ident">name</span>, <span class="kw">_</span>, <span class="kw">_</span><span class="op">|</span> {
    <span class="kw">match</span> <span class="ident">name</span> {
        <span class="string">&quot;MYSTIC_NUMBER&quot;</span> <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">Ok</span>(<span class="prelude-val">Some</span>(<span class="number">42_i64</span>.<span class="ident">into</span>())),
        <span class="kw">_</span> <span class="op">=</span><span class="op">&gt;</span> <span class="prelude-val">Ok</span>(<span class="prelude-val">None</span>)
    }
});

<span class="ident">engine</span>.<span class="ident">eval</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;MYSTIC_NUMBER&quot;</span>)<span class="question-mark">?</span>;
</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.on_print" class="method has-srclink"><div class="rightside"></div><a href="#method.on_print" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.on_print" class="fnname">on_print</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;callback: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>) + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Override default action of <code>print</code> (print to stdout using <a href="https://doc.rust-lang.org/1.55.0/std/macro.println.html" title="println!"><code>println!</code></a>)</p>
<h1 id="example-32" class="section-header"><a href="#example-32">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">Arc::new</span>(<span class="ident">RwLock::new</span>(<span class="ident">String::new</span>()));

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Override action of &#39;print&#39; function</span>
<span class="kw">let</span> <span class="ident">logger</span> <span class="op">=</span> <span class="ident">result</span>.<span class="ident">clone</span>();
<span class="ident">engine</span>.<span class="ident">on_print</span>(<span class="kw">move</span> <span class="op">|</span><span class="ident">s</span><span class="op">|</span> <span class="ident">logger</span>.<span class="ident">write</span>().<span class="ident">unwrap</span>().<span class="ident">push_str</span>(<span class="ident">s</span>));

<span class="ident">engine</span>.<span class="ident">consume</span>(<span class="string">&quot;print(40 + 2);&quot;</span>)<span class="question-mark">?</span>;

<span class="macro">assert_eq!</span>(<span class="kw-2">*</span><span class="ident">result</span>.<span class="ident">read</span>().<span class="ident">unwrap</span>(), <span class="string">&quot;42&quot;</span>);</pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.on_debug" class="method has-srclink"><div class="rightside"></div><a href="#method.on_debug" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.on_debug" class="fnname">on_debug</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;callback: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(&amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>, <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>&gt;, <a class="struct" href="../struct.Position.html" title="struct casbin::rhai::Position">Position</a>) + SendSync + 'static<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Override default action of <code>debug</code> (print to stdout using <a href="https://doc.rust-lang.org/1.55.0/std/macro.println.html" title="println!"><code>println!</code></a>)</p>
<h1 id="example-33" class="section-header"><a href="#example-33">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="ident">result</span> <span class="op">=</span> <span class="ident">Arc::new</span>(<span class="ident">RwLock::new</span>(<span class="ident">String::new</span>()));

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Override action of &#39;print&#39; function</span>
<span class="kw">let</span> <span class="ident">logger</span> <span class="op">=</span> <span class="ident">result</span>.<span class="ident">clone</span>();
<span class="ident">engine</span>.<span class="ident">on_debug</span>(<span class="kw">move</span> <span class="op">|</span><span class="ident">s</span>, <span class="ident">src</span>, <span class="ident">pos</span><span class="op">|</span> <span class="ident">logger</span>.<span class="ident">write</span>().<span class="ident">unwrap</span>().<span class="ident">push_str</span>(
                    <span class="kw-2">&amp;</span><span class="macro">format!</span>(<span class="string">&quot;{} @ {:?} &gt; {}&quot;</span>, <span class="ident">src</span>.<span class="ident">unwrap_or</span>(<span class="string">&quot;unknown&quot;</span>), <span class="ident">pos</span>, <span class="ident">s</span>)
               ));

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">ast</span> <span class="op">=</span> <span class="ident">engine</span>.<span class="ident">compile</span>(<span class="string">r#&quot;let x = &quot;hello&quot;; debug(x);&quot;#</span>)<span class="question-mark">?</span>;
<span class="ident">ast</span>.<span class="ident">set_source</span>(<span class="string">&quot;world&quot;</span>);
<span class="ident">engine</span>.<span class="ident">consume_ast</span>(<span class="kw-2">&amp;</span><span class="ident">ast</span>)<span class="question-mark">?</span>;

<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">not</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;no_position&quot;</span>))]</span>
<span class="macro">assert_eq!</span>(<span class="kw-2">*</span><span class="ident">result</span>.<span class="ident">read</span>().<span class="ident">unwrap</span>(), <span class="string">r#&quot;world @ 1:18 &gt; &quot;hello&quot;&quot;#</span>);
<span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;no_position&quot;</span>)]</span>
<span class="macro">assert_eq!</span>(<span class="kw-2">*</span><span class="ident">result</span>.<span class="ident">read</span>().<span class="ident">unwrap</span>(), <span class="string">r#&quot;world @ none &gt; &quot;hello&quot;&quot;#</span>);</pre></div>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-3" class="impl has-srclink"><div class="rightside"></div><a href="#impl-3" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.disable_symbol" class="method has-srclink"><div class="rightside"></div><a href="#method.disable_symbol" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.disable_symbol" class="fnname">disable_symbol</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;symbol: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;SmartString&lt;Compact&gt;&gt;<br>) -&gt; &amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class="docblock"><p>Disable a particular keyword or operator in the language.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<p>The following will raise an error during parsing because the <code>if</code> keyword is disabled
and is recognized as a reserved symbol!</p>

<div class='information'><div class='tooltip should_panic'>â“˜</div></div><div class="example-wrap"><pre class="rust rust-example-rendered should_panic">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="ident">engine</span>.<span class="ident">disable_symbol</span>(<span class="string">&quot;if&quot;</span>);    <span class="comment">// disable the &#39;if&#39; keyword</span>

<span class="ident">engine</span>.<span class="ident">compile</span>(<span class="string">&quot;let x = if true { 42 } else { 0 };&quot;</span>)<span class="question-mark">?</span>;
<span class="comment">//                      ^ &#39;if&#39; is rejected as a reserved symbol</span></pre></div>
<p>The following will raise an error during parsing because the <code>+=</code> operator is disabled.</p>

<div class='information'><div class='tooltip should_panic'>â“˜</div></div><div class="example-wrap"><pre class="rust rust-example-rendered should_panic">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="ident">engine</span>.<span class="ident">disable_symbol</span>(<span class="string">&quot;+=&quot;</span>);    <span class="comment">// disable the &#39;+=&#39; operator</span>

<span class="ident">engine</span>.<span class="ident">compile</span>(<span class="string">&quot;let x = 42; x += 1;&quot;</span>)<span class="question-mark">?</span>;
<span class="comment">//                            ^ unknown operator</span></pre></div>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.register_custom_operator" class="method has-srclink"><div class="rightside"></div><a href="#method.register_custom_operator" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.register_custom_operator" class="fnname">register_custom_operator</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;keyword: impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.str.html">str</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;SmartString&lt;Compact&gt;&gt;, <br>&nbsp;&nbsp;&nbsp;&nbsp;precedence: <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.u8.html">u8</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;&amp;mut <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</h4></div></summary><div class="docblock"><p>Register a custom operator with a precedence into the language.</p>
<p>The operator must be a valid identifier (i.e. it cannot be a symbol).</p>
<p>The precedence cannot be zero.</p>
<h1 id="example-34" class="section-header"><a href="#example-34">Example</a></h1>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rhai::Engine</span>;

<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">engine</span> <span class="op">=</span> <span class="ident">Engine::new</span>();

<span class="comment">// Register a custom operator called &#39;foo&#39; and give it</span>
<span class="comment">// a precedence of 160 (i.e. between +|- and *|/).</span>
<span class="ident">engine</span>.<span class="ident">register_custom_operator</span>(<span class="string">&quot;foo&quot;</span>, <span class="number">160</span>).<span class="ident">unwrap</span>();

<span class="comment">// Register a binary function named &#39;foo&#39;</span>
<span class="ident">engine</span>.<span class="ident">register_fn</span>(<span class="string">&quot;foo&quot;</span>, <span class="op">|</span><span class="ident">x</span>: <span class="ident">i64</span>, <span class="ident">y</span>: <span class="ident">i64</span><span class="op">|</span> (<span class="ident">x</span> <span class="op">*</span> <span class="ident">y</span>) <span class="op">-</span> (<span class="ident">x</span> <span class="op">+</span> <span class="ident">y</span>));

<span class="macro">assert_eq!</span>(
    <span class="ident">engine</span>.<span class="ident">eval_expression</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(<span class="string">&quot;1 + 2 * 3 foo 4 - 5 / 6&quot;</span>)<span class="question-mark">?</span>,
    <span class="number">15</span>
);</pre></div>
</div></details></div></details><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Debug" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.fmt" class="method trait-impl has-srclink"><div class="rightside"></div><a href="#method.fmt" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.55.0/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.unit.html">()</a>, <a class="struct" href="https://doc.rust-lang.org/1.55.0/core/fmt/struct.Error.html" title="struct core::fmt::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.55.0/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Default" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Default" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/default/trait.Default.html" title="trait core::default::Default">Default</a> for <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.default" class="method trait-impl has-srclink"><div class="rightside"></div><a href="#method.default" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/default/trait.Default.html#tymethod.default" class="fnname">default</a>() -&gt; <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h4></div></summary><div class='docblock'><p>Returns the â€œdefault valueâ€ for a type. <a href="https://doc.rust-lang.org/1.55.0/core/default/trait.Default.html#tymethod.default">Read more</a></p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><div id="impl-RefUnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/1.55.0/std/panic/trait.RefUnwindSafe.html" title="trait std::panic::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div><div id="impl-Send" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div><div id="impl-Sync" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div><div id="impl-Unpin" class="impl has-srclink"><div class="rightside"></div><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div><div id="impl-UnwindSafe" class="impl has-srclink"><div class="rightside"></div><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl !<a class="trait" href="https://doc.rust-lang.org/1.55.0/std/panic/trait.UnwindSafe.html" title="trait std::panic::UnwindSafe">UnwindSafe</a> for <a class="struct" href="../struct.Engine.html" title="struct casbin::rhai::Engine">Engine</a></h3></div></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Any" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/any.rs.html#132-136" title="goto source code">[src]</a></div><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.type_id" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/any.rs.html#133" title="goto source code">[src]</a></div><a href="#method.type_id" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="struct.TypeId.html" title="struct casbin::rhai::plugin::TypeId">TypeId</a></h4></div></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.55.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Borrow%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/borrow.rs.html#208-213" title="goto source code">[src]</a></div><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/borrow.rs.html#210" title="goto source code">[src]</a></div><a href="#method.borrow" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;</a>T</h4></div></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.55.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/borrow.rs.html#216-220" title="goto source code">[src]</a></div><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.55.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.borrow_mut" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/borrow.rs.html#217" title="goto source code">[src]</a></div><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.55.0/std/primitive.reference.html">&amp;mut </a>T</h4></div></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.55.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-From%3CT%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#546-550" title="goto source code">[src]</a></div><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#547" title="goto source code">[src]</a></div><a href="#method.from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-Into%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#535-542" title="goto source code">[src]</a></div><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><div id="method.into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#539" title="goto source code">[src]</a></div><a href="#method.into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryFrom%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#583-592" title="goto source code">[src]</a></div><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="type">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_from" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#589" title="goto source code">[src]</a></div><a href="#method.try_from" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><div id="impl-TryInto%3CU%3E" class="impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#569-578" title="goto source code">[src]</a></div><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></div></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><div id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryInto.html#associatedtype.Error" class="type">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></div></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><div id="method.try_into" class="method trait-impl has-srclink"><div class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.55.0/src/core/convert/mod.rs.html#575" title="goto source code">[src]</a></div><a href="#method.try_into" class="anchor"></a><h4 class="code-header">pub fn <a href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.55.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="type" href="https://doc.rust-lang.org/1.55.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></div></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../../" data-current-crate="casbin" data-search-index-js="../../../search-index.js" data-search-js="../../../search.js"></div>
    <script src="../../../main.js"></script>
</body></html>